<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Giraffe - Barc's Backbone Framework</title>

    <!-- Stylesheets -->
    <link rel='stylesheet' type='text/css' href='css/style.css' />

    <!-- Scripts -->
    <!--[if lt IE 9]><script type="text/javascript" src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
  <div id="page-wrapper">
    <div class="row">

      <!-- Sidebar -->
      <section id="sidebar" class="col sidebar">
        <h2><a href="index.html#">Backbone.Giraffe</a></h2>
        <ul>
          <li><a href="index.html#h-download">Download</a></li>
          <li><a href="https://github.com/barc/backbone.giraffe">Github</a></li>
        </ul>
        
        <h2 id='h-giraffe-apibackbonegiraffehtml'><a href="backbone.giraffe.html">Giraffe API</a></h2>
<h2 id='h-examplesindexhtml'><a href="index.html">Examples</a></h2>
<ul>
<li><a href="viewBasics.html">View Basics</a></li>
<li><a href="templateStrategies.html">Template Strategies</a></li>
<li><a href="lifecycleManagement.html">Lifecycle Management</a></li>
<li><a href="appEvents.html">App Events</a></li>
<li><a href="routersAndAppEvents.html">Routers and App Events</a></li>
<li><a href="appInitialization.html">App Initialization</a></li>
<li><a href="documentEvents.html">View Document Events</a></li>
<li><a href="viewUI.html">View UI</a></li>
<li><a href="menuExample.html">Menu Example</a></li>
<li><a href="viewFlexibility.html">View Flexibility</a></li>
<li><a href="collectionView.html">Collection View</a></li>
<li><a href="http://iamthe35th.github.io/todomvc/labs/architecture-examples/backbone.giraffe/index.html"><em>TodoMVC on Github</em></a></li>
</ul>

        <h3><a href='http://barc.com' class='barc'>@Barc</a></h3>
      </section>

      <!-- Main Body -->
      <article id="content" class="col content">
        <a href='index.html'>
          <img id="logo" src="img/logo.png" />
        </a>
        <h1 id='h-template-strategies'>Template Strategies</h1>
<p>Creating HTML markup is a lot of what we do as front end developers. There are
many solutions as evident by the ever increasing number of templating libraries
found on the web, and <strong>Giraffe</strong> aims to easily support the common cases and be
flexible enough to support any form of string templating. <strong>Giraffe</strong> provides
templating strategies based on the built-in dependecies of <strong>Backbone</strong>, namely
the <strong>Underscore</strong> <code>template</code> function. Selecting a strategy tells <strong>Giraffe</strong>
how to utilize the <code>Giraffe.View#template</code> property when rendering a view. The
predefined strategies are:</p>
<ul>
<li><h4 id='h-underscore-templatesh-template-strategy-underscore-template'><a href="#h-template-strategy-underscore-template">Underscore templates</a></h4>
<ul>
<li><code>Giraffe.View#template</code> is an <strong>Underscore</strong> template string.</li>
</ul>
</li>
<li><h4 id='h-underscore-template-selectorh-template-strategy-underscore-template-selector'><a href="#h-template-strategy-underscore-template-selector">Underscore template selector</a></h4>
<ul>
<li><code>Giraffe.View#template</code> is a CSS selector of an <strong>Underscore</strong> template. This is the default.</li>
</ul>
</li>
<li><h4 id='h-javascript-template-functions-jsth-template-strategy-jst'><a href="#h-template-strategy-jst">JavaScript template functions (JST)</a></h4>
<ul>
<li><code>Giraffe.View#template</code> is a function that returns an HTML string.</li>
</ul>
</li>
</ul>
<p>Templating is fully user customizable as detailed in the
<a href="#h-user-defined-template-strategy">User-Defined Template Strategy</a> and
<a href="#h-mustache-integration">Mustache Integration</a> sections below.</p>
<div class='note'>
At <a href="http://barc.com">Barc</a> we love CoffeeScript and use
<a href="https://github.com/mgutz/funcd">funcd</a>, a function based template engine.
</div>

<h2 id='h-strategy-scope'>Strategy Scope</h2>
<p>First decide whether to set the strategy globally or to a specific view.
The global case is the one most used as it enforces consistent templating
across a project. To set a global strategy use the class method
<code>Giraffe.View.setTemplateStrategy</code>.</p>
<pre><code class="js">Giraffe.View.setTemplateStrategy(<span class="string">'underscore-template'</span>);</code></pre>
<p>To enable for a specific view, set the <code>templateStrategy</code> option.</p>
<pre><code class="js"><span class="keyword">var</span> View = Giraffe.View.extend({
  templateStrategy: <span class="string">'underscore-template'</span>,
  template: <span class="string">'&lt;p&gt;Hello &lt;%= name %&gt;&lt;/p&gt;'</span>,
  serialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> {name: <span class="string">'giraffe'</span>};
  }
  ...
});</code></pre>
<div class='note'>
The <code>template</code> property works in concert with <code>serialize</code>
to transform a view&#39;s data into HTML when
using one of the predefined strategies.
By default, <code>serialize</code> returns the view.
</div>

<div class='section-example'><h2 id='h-template-strategy-underscore-template'>Template Strategy &#39;underscore-template&#39;</h2>
<p>This is the simplest strategy and works well with CoffeeScript&#39;s multi-line
strings.</p>
<pre><code class="js">Giraffe.View.setTemplateStrategy(<span class="string">'underscore-template'</span>);

<span class="keyword">var</span> View = Giraffe.View.extend({
  <span class="comment">// Optionally, set the strategy for this view only</span>
  <span class="comment">//templateStrategy: 'underscore-template',</span>
  template: <span class="string">'&lt;p&gt;Using the \'&lt;%= name %&gt;\' strategy&lt;/p&gt;'</span>,
  <span class="comment">// or</span>
  <span class="comment">//template: $('#my-template-selector').html(),</span>
  serialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> {name: <span class="string">'underscore-template'</span>};
  }
});

<span class="keyword">var</span> view = <span class="keyword">new</span> View();
view.attachTo(<span class="string">'body'</span>);</code></pre>
<h3 id='h-result'>Result</h3>
<div id="templatestrategies0_tabs" class="tabs">
  <ul>
    <li class="active">
  <a href="#templatestrategies0result-tab" rel="templatestrategies0result-tab">
    result
  </a>
</li><li>
  <a href="#templatestrategies0scriptjs-tab" rel="templatestrategies0scriptjs-tab">
    script.js
  </a>
</li><li>
  <a href="#templatestrategies0markuphtml-tab" rel="templatestrategies0markuphtml-tab">
    markup.html
  </a>
</li><li>
  <a href="#templatestrategies0stylecss-tab" rel="templatestrategies0stylecss-tab">
    style.css
  </a>
</li>
  </ul>
</div>
<div id="templatestrategies0_tabs_content" class="tabs_content">
  <div id="templatestrategies0result-tab" class="tab_content">
  <iframe id="templatestrategies0" src="assets/templateStrategies0.html" class="result"  style='height: 20px'></iframe>
</div><div id="templatestrategies0scriptjs-tab" class="tab_content">
  <pre><code class="language-js">Giraffe.View.setTemplateStrategy(<span class="string">'underscore-template'</span>);

<span class="keyword">var</span> View = Giraffe.View.extend({
  <span class="comment">// Optionally, set the strategy for this view only</span>
  <span class="comment">//templateStrategy: 'underscore-template',</span>
  template: <span class="string">'&lt;p&gt;Using the \'&lt;%= name %&gt;\' strategy&lt;/p&gt;'</span>,
  <span class="comment">// or</span>
  <span class="comment">//template: $('#my-template-selector').html(),</span>
  serialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> {
      name: <span class="string">'underscore-template'</span>
    };
  }
});

<span class="keyword">var</span> view = <span class="keyword">new</span> View();
view.attachTo(<span class="string">'body'</span>);</code></pre>
</div><div id="templatestrategies0markuphtml-tab" class="tab_content">
  <pre><code class="language-html"><span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;<span class="title">html</span>&gt;</span>
  <span class="tag">&lt;<span class="title">head</span>&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">'stylesheet'</span> <span class="attribute">type</span>=<span class="value">'text/css'</span> <span class="attribute">href</span>=<span class="value">'../css/reset.css'</span> /&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">'stylesheet'</span> <span class="attribute">type</span>=<span class="value">'text/css'</span> <span class="attribute">href</span>=<span class="value">'templatestrategies0-style.css'</span> /&gt;</span>
  <span class="tag">&lt;/<span class="title">head</span>&gt;</span>
  <span class="tag">&lt;<span class="title">body</span>&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://code.jquery.com/jquery-1.9.1.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"../backbone.giraffe.js"</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">'text/javascript'</span> <span class="attribute">src</span>=<span class="value">'templatestrategies0-script.js'</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
  <span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span>
</code></pre>
</div><div id="templatestrategies0stylecss-tab" class="tab_content">
  <pre><code class="language-css"><span class="tag">p</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#F50</span></span></span>;
  <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">18</span>px</span></span>;
<span class="rule">}</span></span></code></pre>
</div>
</div></div><div class='section-example'><h2 id='h-template-strategy-underscore-template-selector'>Template Strategy &#39;underscore-template-selector&#39;</h2>
<p>This strategy expects a selector to a DOM element containing the template. This
is the default template strategy because it is concise and a common choice of
<strong>Backbone</strong> developers.</p>
<p>In HTML page</p>
<pre><code class="html"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">id</span>=<span class="value">'hello-template'</span> <span class="attribute">type</span>=<span class="value">'text/template'</span>&gt;</span>
  <span class="tag">&lt;<span class="title">p</span>&gt;</span>Using the '<span class="javascript">&lt;%= name %&gt;</span>' strategy<span class="tag">&lt;/<span class="title">p</span>&gt;</span>
<span class="tag">&lt;/<span class="title">script</span>&gt;</span></code></pre>
<p>In script</p>
<pre><code class="js">
Giraffe.View.setTemplateStrategy(<span class="string">'underscore-template-selector'</span>);

<span class="keyword">var</span> View = Giraffe.View.extend({
  <span class="comment">// Optionally, set the strategy for this view only</span>
  <span class="comment">//templateStrategy: 'underscore-template-selector',</span>
  template: <span class="string">'#hello-template'</span>,
  serialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> {name: <span class="string">'underscore-template-selector'</span>};
  }
});

<span class="keyword">var</span> view = <span class="keyword">new</span> View();
view.attachTo(<span class="string">'body'</span>);</code></pre>
<h3 id='h-result'>Result</h3>
<div id="templatestrategies1_tabs" class="tabs">
  <ul>
    <li class="active">
  <a href="#templatestrategies1result-tab" rel="templatestrategies1result-tab">
    result
  </a>
</li><li>
  <a href="#templatestrategies1markuphtml-tab" rel="templatestrategies1markuphtml-tab">
    markup.html
  </a>
</li><li>
  <a href="#templatestrategies1scriptjs-tab" rel="templatestrategies1scriptjs-tab">
    script.js
  </a>
</li><li>
  <a href="#templatestrategies1stylecss-tab" rel="templatestrategies1stylecss-tab">
    style.css
  </a>
</li>
  </ul>
</div>
<div id="templatestrategies1_tabs_content" class="tabs_content">
  <div id="templatestrategies1result-tab" class="tab_content">
  <iframe id="templatestrategies1" src="assets/templateStrategies1.html" class="result"  style='height: 20px'></iframe>
</div><div id="templatestrategies1scriptjs-tab" class="tab_content">
  <pre><code class="language-js">Giraffe.View.setTemplateStrategy(<span class="string">'underscore-template-selector'</span>);

<span class="keyword">var</span> View = Giraffe.View.extend({
  <span class="comment">// Optionally, set the strategy for this view only</span>
  <span class="comment">//templateStrategy: 'underscore-template-selector',</span>
  template: <span class="string">'#hello-template'</span>,
  serialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> {
      name: <span class="string">'underscore-template-selector'</span>
    };
  }
});

<span class="keyword">var</span> view = <span class="keyword">new</span> View();
view.attachTo(<span class="string">'body'</span>);</code></pre>
</div><div id="templatestrategies1markuphtml-tab" class="tab_content">
  <pre><code class="language-html"><span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;<span class="title">html</span>&gt;</span>
  <span class="tag">&lt;<span class="title">head</span>&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">'stylesheet'</span> <span class="attribute">type</span>=<span class="value">'text/css'</span> <span class="attribute">href</span>=<span class="value">'../css/reset.css'</span> /&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">'stylesheet'</span> <span class="attribute">type</span>=<span class="value">'text/css'</span> <span class="attribute">href</span>=<span class="value">'templatestrategies1-style.css'</span> /&gt;</span>
  <span class="tag">&lt;/<span class="title">head</span>&gt;</span>
  <span class="tag">&lt;<span class="title">body</span>&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">id</span>=<span class="value">'hello-template'</span> <span class="attribute">type</span>=<span class="value">'text/template'</span>&gt;</span>
  <span class="tag">&lt;<span class="title">p</span>&gt;</span>Using the '<span class="javascript">&lt;%= name %&gt;</span>' strategy<span class="tag">&lt;/<span class="title">p</span>&gt;</span>
<span class="tag">&lt;/<span class="title">script</span>&gt;</span>

<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://code.jquery.com/jquery-1.9.1.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"../backbone.giraffe.js"</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">'text/javascript'</span> <span class="attribute">src</span>=<span class="value">'templatestrategies1-script.js'</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
  <span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span>
</code></pre>
</div><div id="templatestrategies1stylecss-tab" class="tab_content">
  <pre><code class="language-css"><span class="tag">p</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#F50</span></span></span>;
  <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">18</span>px</span></span>;
<span class="rule">}</span></span></code></pre>
</div>
</div></div><div class='section-example'><h2 id='h-template-strategy-jst'>Template Strategy &#39;jst&#39;</h2>
<p>This strategy expects <code>template</code> to be a function that returns an HTML string.</p>
<pre><code class="js">Giraffe.View.setTemplateStrategy(<span class="string">'jst'</span>);

<span class="keyword">var</span> View = Giraffe.View.extend({
  <span class="comment">// Optionally, set the strategy for this view only</span>
  <span class="comment">//templateStrategy: 'jst',</span>
  template: <span class="function"><span class="keyword">function</span><span class="params">(data)</span> {</span>
    <span class="keyword">return</span> <span class="string">'&lt;p&gt;Using the \''</span> + data.name + <span class="string">'\' strategy&lt;/p&gt;'</span>;
  },
  serialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> {name: <span class="string">'jst'</span>};
  }
});

<span class="keyword">var</span> view = <span class="keyword">new</span> View();
view.attachTo(<span class="string">'body'</span>);</code></pre>
<h3 id='h-result'>Result</h3>
<div id="templatestrategies2_tabs" class="tabs">
  <ul>
    <li class="active">
  <a href="#templatestrategies2result-tab" rel="templatestrategies2result-tab">
    result
  </a>
</li><li>
  <a href="#templatestrategies2scriptjs-tab" rel="templatestrategies2scriptjs-tab">
    script.js
  </a>
</li><li>
  <a href="#templatestrategies2markuphtml-tab" rel="templatestrategies2markuphtml-tab">
    markup.html
  </a>
</li><li>
  <a href="#templatestrategies2stylecss-tab" rel="templatestrategies2stylecss-tab">
    style.css
  </a>
</li>
  </ul>
</div>
<div id="templatestrategies2_tabs_content" class="tabs_content">
  <div id="templatestrategies2result-tab" class="tab_content">
  <iframe id="templatestrategies2" src="assets/templateStrategies2.html" class="result"  style='height: 20px'></iframe>
</div><div id="templatestrategies2scriptjs-tab" class="tab_content">
  <pre><code class="language-js">Giraffe.View.setTemplateStrategy(<span class="string">'jst'</span>);

<span class="keyword">var</span> View = Giraffe.View.extend({
  <span class="comment">// Optionally, set the strategy for this view only</span>
  <span class="comment">//templateStrategy: 'jst',</span>
  template: <span class="function"><span class="keyword">function</span><span class="params">(data)</span> {</span>
    <span class="keyword">return</span> <span class="string">'&lt;p&gt;Using the \''</span> + data.name + <span class="string">'\' strategy&lt;/p&gt;'</span>;
  },
  serialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> {
      name: <span class="string">'jst'</span>
    };
  }
});

<span class="keyword">var</span> view = <span class="keyword">new</span> View();
view.attachTo(<span class="string">'body'</span>);</code></pre>
</div><div id="templatestrategies2markuphtml-tab" class="tab_content">
  <pre><code class="language-html"><span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;<span class="title">html</span>&gt;</span>
  <span class="tag">&lt;<span class="title">head</span>&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">'stylesheet'</span> <span class="attribute">type</span>=<span class="value">'text/css'</span> <span class="attribute">href</span>=<span class="value">'../css/reset.css'</span> /&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">'stylesheet'</span> <span class="attribute">type</span>=<span class="value">'text/css'</span> <span class="attribute">href</span>=<span class="value">'templatestrategies2-style.css'</span> /&gt;</span>
  <span class="tag">&lt;/<span class="title">head</span>&gt;</span>
  <span class="tag">&lt;<span class="title">body</span>&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://code.jquery.com/jquery-1.9.1.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"../backbone.giraffe.js"</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">'text/javascript'</span> <span class="attribute">src</span>=<span class="value">'templatestrategies2-script.js'</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
  <span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span>
</code></pre>
</div><div id="templatestrategies2stylecss-tab" class="tab_content">
  <pre><code class="language-css"><span class="tag">p</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#F50</span></span></span>;
  <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">18</span>px</span></span>;
<span class="rule">}</span></span></code></pre>
</div>
</div></div><div class='section-example'><h2 id='h-user-defined-template-strategy'>User-Defined Template Strategy</h2>
<p>To completely override <strong>Giraffe</strong> templating, assign a function to
<code>templateStrategy</code> that returns an HTML string.</p>
<p>As an example, many developers have a build process to precompile templates into
JavaScript Templates (<code>JST</code>) objects. The object might look something like this:</p>
<pre><code class="js"><span class="keyword">var</span> JST = {
  body: <span class="function"><span class="keyword">function</span><span class="params">(it)</span> {</span>
    <span class="keyword">return</span> <span class="string">'&lt;p&gt;Using a '</span> + it.name + <span class="string">' strategy&lt;/p&gt;'</span>;
  },
  header: <span class="function"><span class="keyword">function</span><span class="params">(it)</span> {</span> <span class="keyword">return</span> <span class="string">'&lt;div&gt;Header&lt;/div&gt;'</span>; },
  footer: <span class="function"><span class="keyword">function</span><span class="params">(it)</span> {</span> <span class="keyword">return</span> <span class="string">'&lt;div&gt;footer&lt;/div&gt;'</span>; },
};</code></pre>
<p>To use this <code>JST</code>, we&#39;ll assign <code>setTemplateStrategy</code> a
function which uses the view&#39;s <code>template</code> as the name of <code>JST</code> function to
call.</p>
<pre><code class="js">
Giraffe.View.setTemplateStrategy(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> data = <span class="keyword">this</span>.serialize();
  <span class="keyword">var</span> template = JST[<span class="keyword">this</span>.template];
  <span class="keyword">return</span> template(data);
});

<span class="keyword">var</span> View = Giraffe.View.extend({
  template: <span class="string">'body'</span>,
  serialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> {name: <span class="string">'user-defined'</span>};
  }
});

<span class="keyword">var</span> view = <span class="keyword">new</span> View();
view.attachTo(<span class="string">'body'</span>);</code></pre>
<h3 id='h-result'>Result</h3>
<div id="templatestrategies3_tabs" class="tabs">
  <ul>
    <li class="active">
  <a href="#templatestrategies3result-tab" rel="templatestrategies3result-tab">
    result
  </a>
</li><li>
  <a href="#templatestrategies3scriptjs-tab" rel="templatestrategies3scriptjs-tab">
    script.js
  </a>
</li><li>
  <a href="#templatestrategies3markuphtml-tab" rel="templatestrategies3markuphtml-tab">
    markup.html
  </a>
</li><li>
  <a href="#templatestrategies3stylecss-tab" rel="templatestrategies3stylecss-tab">
    style.css
  </a>
</li>
  </ul>
</div>
<div id="templatestrategies3_tabs_content" class="tabs_content">
  <div id="templatestrategies3result-tab" class="tab_content">
  <iframe id="templatestrategies3" src="assets/templateStrategies3.html" class="result"  style='height: 20px'></iframe>
</div><div id="templatestrategies3scriptjs-tab" class="tab_content">
  <pre><code class="language-js"><span class="keyword">var</span> JST = {
  body: <span class="function"><span class="keyword">function</span><span class="params">(it)</span> {</span>
    <span class="keyword">return</span> <span class="string">'&lt;p&gt;Using a '</span> + it.name + <span class="string">' strategy&lt;/p&gt;'</span>;
  },
  header: <span class="function"><span class="keyword">function</span><span class="params">(it)</span> {</span>
    <span class="keyword">return</span> <span class="string">'&lt;div&gt;Header&lt;/div&gt;'</span>;
  },
  footer: <span class="function"><span class="keyword">function</span><span class="params">(it)</span> {</span>
    <span class="keyword">return</span> <span class="string">'&lt;div&gt;footer&lt;/div&gt;'</span>;
  },
};


Giraffe.View.setTemplateStrategy(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> data = <span class="keyword">this</span>.serialize();
  <span class="keyword">var</span> template = JST[<span class="keyword">this</span>.template];
  <span class="keyword">return</span> template(data);
});

<span class="keyword">var</span> View = Giraffe.View.extend({
  template: <span class="string">'body'</span>,
  serialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> {
      name: <span class="string">'user-defined'</span>
    };
  }
});

<span class="keyword">var</span> view = <span class="keyword">new</span> View();
view.attachTo(<span class="string">'body'</span>);</code></pre>
</div><div id="templatestrategies3markuphtml-tab" class="tab_content">
  <pre><code class="language-html"><span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;<span class="title">html</span>&gt;</span>
  <span class="tag">&lt;<span class="title">head</span>&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">'stylesheet'</span> <span class="attribute">type</span>=<span class="value">'text/css'</span> <span class="attribute">href</span>=<span class="value">'../css/reset.css'</span> /&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">'stylesheet'</span> <span class="attribute">type</span>=<span class="value">'text/css'</span> <span class="attribute">href</span>=<span class="value">'templatestrategies3-style.css'</span> /&gt;</span>
  <span class="tag">&lt;/<span class="title">head</span>&gt;</span>
  <span class="tag">&lt;<span class="title">body</span>&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://code.jquery.com/jquery-1.9.1.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"../backbone.giraffe.js"</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">'text/javascript'</span> <span class="attribute">src</span>=<span class="value">'templatestrategies3-script.js'</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
  <span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span>
</code></pre>
</div><div id="templatestrategies3stylecss-tab" class="tab_content">
  <pre><code class="language-css"><span class="tag">p</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#F00</span></span></span>;
  <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">18</span>px</span></span>;
<span class="rule">}</span></span></code></pre>
</div>
</div></div><div class='section-example'><h2 id='h-mustache-integration'>Mustache Integration</h2>
<p>This example shows how to integrate <strong>Mustache</strong> templates into <strong>Giraffe</strong>
using a user-defined strategy.</p>
<pre><code class="js">Giraffe.View.setTemplateStrategy(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">return</span> Mustache.render(<span class="keyword">this</span>.template, <span class="keyword">this</span>.serialize());
});

<span class="keyword">var</span> View = Giraffe.View.extend({
  <span class="comment">// Optionally, set the strategy for this view only</span>
  <span class="comment">//templateStrategy: function() { return Mustache.render(...); },</span>
  template: <span class="string">'&lt;p&gt;Using {{name}}&lt;/p&gt;'</span>,
  serialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> {name: <span class="string">'Mustache'</span>};
  }
});

<span class="keyword">var</span> view = <span class="keyword">new</span> View();
view.attachTo(<span class="string">'body'</span>);</code></pre>
<p>All we need now is a reference to the Mustache library in our page</p>
<pre><code class="html"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"https://cdnjs.cloudflare.com/ajax/libs/mustache.js/0.7.2/mustache.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></code></pre>
<h3 id='h-result'>Result</h3>
<div id="templatestrategies4_tabs" class="tabs">
  <ul>
    <li class="active">
  <a href="#templatestrategies4result-tab" rel="templatestrategies4result-tab">
    result
  </a>
</li><li>
  <a href="#templatestrategies4scriptjs-tab" rel="templatestrategies4scriptjs-tab">
    script.js
  </a>
</li><li>
  <a href="#templatestrategies4markuphtml-tab" rel="templatestrategies4markuphtml-tab">
    markup.html
  </a>
</li><li>
  <a href="#templatestrategies4stylecss-tab" rel="templatestrategies4stylecss-tab">
    style.css
  </a>
</li>
  </ul>
</div>
<div id="templatestrategies4_tabs_content" class="tabs_content">
  <div id="templatestrategies4result-tab" class="tab_content">
  <iframe id="templatestrategies4" src="assets/templateStrategies4.html" class="result"  style='height: 20px'></iframe>
</div><div id="templatestrategies4scriptjs-tab" class="tab_content">
  <pre><code class="language-js">Giraffe.View.setTemplateStrategy(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">return</span> Mustache.render(<span class="keyword">this</span>.template, <span class="keyword">this</span>.serialize());
});

<span class="keyword">var</span> View = Giraffe.View.extend({
  <span class="comment">// Optionally, set the strategy for this view only</span>
  <span class="comment">//templateStrategy: function() { return Mustache.render(...); },</span>
  template: <span class="string">'&lt;p&gt;Using {{name}}&lt;/p&gt;'</span>,
  serialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> {
      name: <span class="string">'Mustache'</span>
    };
  }
});

<span class="keyword">var</span> view = <span class="keyword">new</span> View();
view.attachTo(<span class="string">'body'</span>);</code></pre>
</div><div id="templatestrategies4markuphtml-tab" class="tab_content">
  <pre><code class="language-html"><span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;<span class="title">html</span>&gt;</span>
  <span class="tag">&lt;<span class="title">head</span>&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">'stylesheet'</span> <span class="attribute">type</span>=<span class="value">'text/css'</span> <span class="attribute">href</span>=<span class="value">'../css/reset.css'</span> /&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">'stylesheet'</span> <span class="attribute">type</span>=<span class="value">'text/css'</span> <span class="attribute">href</span>=<span class="value">'templatestrategies4-style.css'</span> /&gt;</span>
  <span class="tag">&lt;/<span class="title">head</span>&gt;</span>
  <span class="tag">&lt;<span class="title">body</span>&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://code.jquery.com/jquery-1.9.1.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"../backbone.giraffe.js"</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>

<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"https://cdnjs.cloudflare.com/ajax/libs/mustache.js/0.7.2/mustache.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">'text/javascript'</span> <span class="attribute">src</span>=<span class="value">'templatestrategies4-script.js'</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
  <span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span>
</code></pre>
</div><div id="templatestrategies4stylecss-tab" class="tab_content">
  <pre><code class="language-css"><span class="tag">p</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#F00</span></span></span>;
  <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">18</span>px</span></span>;
<span class="rule">}</span></span></code></pre>
</div>
</div></div>
      </article>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
  <script src="assets/tutdown.js"></script>
  <script>
  $(function() {
    $('.more-details').click(function() {
      $this = $(this);
      if ($this.hasClass('collapsed')) {
        $this.removeClass('collapsed');
        $this.addClass('uncollapsed');
      } else {
        $this.removeClass('uncollapsed');
        $this.addClass('collapsed');
      }
    });
  });
  </script>
  <script type="text/javascript"> 
    (function() { 
      var b = document.createElement("script"); b.type = "text/javascript"; b.async = true; 
      b.src = "https://barc.com/js/libs/barc/barc.js"; 
      var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(b, s); 
    })(); 
  </script>
  <script type="text/javascript">
    $('#sidebar a').each(function() {
      var 
        $a = $(this),
        href = window.location.href;
      if (href.indexOf && href.indexOf($a.attr('href')) > -1 && href.indexOf('#') === -1) // hacky to grab only example links
        $a.closest('li').addClass('active');
    });
  </script>
</body>
</html>

